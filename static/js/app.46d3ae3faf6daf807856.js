webpackJsonp([1],{"7ut2":function(t,e){},FdHz:function(t,e,s){"use strict";var a=s("fZjL"),i=s.n(a),r=s("mvHQ"),c=s.n(r),n=s("mtWM");s.n(n);e.a={name:"DataSearch",data:function(){return{articles:{}}},mounted:function(){this.$nextTick(function(){this.loadArticles()})},methods:{loadArticles:function(){this.articles=JSON.parse(localStorage.getItem("myArticles"))},removeArticle:function(t){this.articles=JSON.parse(localStorage.getItem("myArticles")),delete this.articles[t],localStorage.setItem("myArticles",c()(this.articles))}},computed:{articlesExist:function(){return i()(this.articles).length}}}},K9ln:function(t,e,s){"use strict";var a=s("fZjL"),i=s.n(a),r=s("mvHQ"),c=s.n(r),n=s("mtWM"),l=s.n(n);e.a={name:"DataSearch",data:function(){return{options:[],searchTerms:["DNA Gyrase B subunit","gyrase B and inhibitors","gyrase B and bioassay","gyraseb and compounds"],result:{hitCount:0,ids:[],articles:{}},sortedArticles:[],savedArticles:0}},mounted:function(){this.getSavedArticles()},methods:{addTag:function(t){this.options.push(t),this.value.push(t)},saveArticle:function(t,e){var s=JSON.parse(localStorage.getItem("myArticles"));if(s)s[t]||(s[t]=e),localStorage.setItem("myArticles",c()(s));else{var a={};a[t]=e,localStorage.setItem("myArticles",c()(a))}this.getSavedArticles()},searchEuropeanPMC:function(){var t=this;this.result.hitCount=0,this.result.ids=[],this.result.articles={},this.searchTerms.forEach(function(e){var s="https://www.ebi.ac.uk/europepmc/webservices/rest/search?query="+encodeURI(e)+"&format=json&pageSize=100&resulttype=core&synonym=true";l.a.get(s).then(function(e){t.result.hitCount=t.result.hitCount+e.data.hitCount,e.data.resultList.result.forEach(function(e){-1===t.result.ids.indexOf(e.id)&&"PAT"!=e.source&&(t.result.ids.push(e.id),t.result.articles[e.id]=e,e.chemicalList&&(t.result.articles[e.id].chem=[],e.chemicalList.chemical.forEach(function(s){t.result.articles[e.id].chem.push(s.name)})),"Y"==e.hasTextMinedTerms&&l.a.get("https://www.ebi.ac.uk/europepmc/webservices/rest/MED/"+e.id+"/textMinedTerms/CHEMICAL/json").then(function(s){s.data.semanticTypeList&&s.data.semanticTypeList.semanticType.forEach(function(s){"chemical"==s.name&&s.tmSummary.forEach(function(s){t.result.articles[e.id].chem||(t.result.articles[e.id].chem=[]),0==t.result.articles[e.id].chem.length&&(t.result.articles[e.id].chem=[]),t.result.articles[e.id].chem.push(s.term)})})}))}),t.scoreAndSortArticles()}).catch(function(t){console.log(t)})})},getSavedArticles:function(){this.savedArticles=i()(JSON.parse(localStorage.getItem("myArticles"))).length},scoreAndSortArticles:function(){var t=this;this.result.ids.forEach(function(e){t.calculateScore(t.result.articles[e])}),this.sortedArticles.sort(function(t,e){return e[1]-t[1]})},calculateScore:function(t){var e=0;e+=t.citedByCount,parseInt(t.pubYear)>2010&&(e+=10),t.chem&&(e+=t.chem.length),t.score=e,this.sortedArticles.push([t.id,e])}}}},M93x:function(t,e,s){"use strict";function a(t){s("pJuL")}var i=s("xJD8"),r=s("mCrJ"),c=s("VU/8"),n=a,l=c(i.a,r.a,!1,n,null,null);e.a=l.exports},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),i=s("M93x"),r=s("YaEn"),c=s("RUzx"),n=s.n(c);a.a.config.productionTip=!1,a.a.component("multiselect",n.a),new a.a({el:"#app",router:r.a,template:"<App/>",components:{App:i.a}})},OIwE:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("a",{staticClass:"button is-danger fbs",attrs:{href:"/#/my-articles"}},[t._v("+ My Articles ("+t._s(t.savedArticles)+")")]),t._v(" "),s("div",{staticClass:"columns is-mobile is-centered has-text-left"},[s("div",{staticClass:"column is-half is-narrow"},[s("label",{staticClass:"typo__label"},[t._v("Search terms")]),t._v(" "),s("multiselect",{attrs:{"tag-placeholder":"Add this as new tag",placeholder:"Search or add terms",options:t.options,multiple:!0,taggable:!0},on:{tag:t.addTag},model:{value:t.searchTerms,callback:function(e){t.searchTerms=e},expression:"searchTerms"}}),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("button",{staticClass:"button is-light is-fullwidth",on:{click:t.searchEuropeanPMC}},[t._v("Search")])])]),t._v(" "),t.result.ids.length>0?s("div",[s("hr"),t._v(" "),s("p",[s("small",[t._v("result ( "+t._s(t.result.ids.length)+" / "+t._s(t.result.hitCount)+" )")])]),t._v(" "),t._l(t.result.ids,function(e){return s("div",["PAT"!=t.result.articles[e].source?s("div",{staticClass:"card"},[s("div",{staticClass:"card-content"},[s("div",{staticClass:"content"},[s("p",[s("b",[t._v(t._s(t.result.articles[e].title))]),t._v(" "),s("br"),t._v(" "),s("small",[t.result.articles[e].journalInfo?s("span",[t._v("\n                        "+t._s(t.result.articles[e].journalInfo.journal.title)+", "+t._s(t.result.articles[e].journalInfo.printPublicationDate)+" \n                      ")]):t._e(),t._v(" "),s("span",{staticClass:"is-pulled-right"},["Y"==t.result.articles[e].isOpenAccess?s("span",[s("span",{staticClass:"tag is-info"},[t._v("Open Source")])]):t._e()])])]),t._v(" "),s("hr",{staticClass:"np"}),t._v("\n                "+t._s(t.result.articles[e].abstractText)+"\n                "),t.result.articles[e].chem?s("span",[s("hr",{staticClass:"np"}),t._v(" "),t._l(t.result.articles[e].chem,function(e){return s("span",[s("span",{staticClass:"tag is-light"},[t._v(t._s(e))]),t._v(" \n                  ")])})],2):t._e()])]),t._v(" "),s("footer",{staticClass:"card-footer"},[t.result.articles[e].doi?s("a",{staticClass:"card-footer-item",attrs:{target:"_blank",href:"http://dx.doi.org/"+t.result.articles[e].doi}},[t._v(t._s(t.result.articles[e].doi))]):t._e(),t._v(" "),s("a",{staticClass:"card-footer-item",on:{click:function(s){t.saveArticle(e,t.result.articles[e])}}},[t._v("+ Save Article ")])])]):t._e(),t._v(" "),s("br")])})],2):t._e()],1)])])},i=[],r={render:a,staticRenderFns:i};e.a=r},XBBe:function(t,e){},YaEn:function(t,e,s){"use strict";var a=s("7+uW"),i=s("/ocq"),r=s("nE8Q"),c=s("pQ8Q");a.a.use(i.a),e.a=new i.a({routes:[{path:"/",name:"DataSearch",component:r.a},{path:"/my-articles",name:"MyArticles",component:c.a}]})},mCrJ:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},i=[],r={render:a,staticRenderFns:i};e.a=r},nE8Q:function(t,e,s){"use strict";function a(t){s("7ut2")}var i=s("K9ln"),r=s("OIwE"),c=s("VU/8"),n=a,l=c(i.a,r.a,!1,n,"data-v-449f203c",null);e.a=l.exports},p7b8:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("a",{staticClass:"button is-primary fbs",attrs:{href:"/#/"}},[t._v("<< Back")]),t._v(" "),s("div",{staticClass:"columns is-mobile is-centered has-text-left"},[s("div",{staticClass:"column is-half is-narrow"},[s("p",[t._v("My Articles ( "+t._s(Object.keys(t.articles).length)+" )")]),s("br"),t._v(" "),t.articlesExist?s("div",t._l(t.articles,function(e){return s("div",["PAT"!=e.source?s("div",{staticClass:"card"},[s("div",{staticClass:"card-content"},[s("div",{staticClass:"content"},[s("p",[s("b",[t._v(t._s(e.title))]),t._v(" "),s("br"),t._v(" "),s("small",[e.journalInfo?s("span",[t._v("\n                        "+t._s(e.journalInfo.journal.title)+", "+t._s(e.journalInfo.printPublicationDate)+" \n                      ")]):t._e(),t._v(" "),s("span",{staticClass:"is-pulled-right"},["Y"==e.isOpenAccess?s("span",[s("span",{staticClass:"tag is-info"},[t._v("Open Source")])]):t._e()])])]),t._v(" "),s("hr",{staticClass:"np"}),t._v("\n                "+t._s(e.abstractText)+"\n                "),e.chem?s("span",[s("hr",{staticClass:"np"}),t._v(" "),t._l(e.chem,function(e){return s("span",[s("span",{staticClass:"tag is-light"},[t._v(t._s(e))]),t._v(" \n                  ")])})],2):t._e()])]),t._v(" "),s("footer",{staticClass:"card-footer"},[s("a",{staticClass:"card-footer-item",attrs:{target:"_blank",href:"http://dx.doi.org/"+e.doi}},[t._v(t._s(e.doi))]),t._v(" "),s("a",{staticClass:"card-footer-item",on:{click:function(s){t.removeArticle(e.id)}}},[t._v("Remove")])])]):t._e(),t._v(" "),s("br")])})):t._e(),t._v(" "),t.articlesExist?t._e():s("div",[t._m(0)])])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"has-text-grey"},[s("small",[t._v("No Articles Saved")])])}],r={render:a,staticRenderFns:i};e.a=r},pJuL:function(t,e){},pQ8Q:function(t,e,s){"use strict";function a(t){s("XBBe")}var i=s("FdHz"),r=s("p7b8"),c=s("VU/8"),n=a,l=c(i.a,r.a,!1,n,"data-v-516abad3",null);e.a=l.exports},xJD8:function(t,e,s){"use strict";e.a={name:"app"}}},["NHnr"]);
//# sourceMappingURL=app.46d3ae3faf6daf807856.js.map